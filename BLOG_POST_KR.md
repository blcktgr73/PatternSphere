# PatternSphere: AIì™€ í•¨ê»˜ ë§Œë“  ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´ í†µí•© ì§€ì‹ ë² ì´ìŠ¤

## ë“¤ì–´ê°€ë©°: í©ì–´ì§„ íŒ¨í„´ ì§€ì‹ì˜ ë¬¸ì œ

ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œìë¼ë©´ ëˆ„êµ¬ë‚˜ í•œ ë²ˆì¯¤ ì´ëŸ° ê²½í—˜ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ë ˆê±°ì‹œ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•´ì•¼ í•˜ëŠ”ë°, "ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” íŒ¨í„´ì´ ë¶„ëª…íˆ ìˆì—ˆëŠ”ë°..."ë¼ê³  ìƒê°í•˜ë©° ì—¬ëŸ¬ ì±…ê³¼ ë¸”ë¡œê·¸ë¥¼ ë’¤ì§€ëŠ” ê²½í—˜ ë§ì…ë‹ˆë‹¤. GoFì˜ ë””ìì¸ íŒ¨í„´, ë§ˆí‹´ íŒŒìš¸ëŸ¬ì˜ ë¦¬íŒ©í† ë§ íŒ¨í„´, OORP(Object-Oriented Reengineering Patterns)ê¹Œì§€... í›Œë¥­í•œ íŒ¨í„´ë“¤ì´ ìˆ˜ì—†ì´ ë§ì§€ë§Œ, ì •ì‘ í•„ìš”í•  ë•Œ ë¹ ë¥´ê²Œ ì°¾ê¸°ëŠ” ì–´ë µìŠµë‹ˆë‹¤.

ì €ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **PatternSphere**ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ ê³¼ì •ì—ì„œ í¥ë¯¸ë¡œìš´ ì‹¤í—˜ì„ í–ˆìŠµë‹ˆë‹¤. **í”„ë¡œì íŠ¸ ìì²´ë¥¼ OORP íŒ¨í„´ìœ¼ë¡œ ê°œë°œí•˜ê³ , ì™„ì„±ëœ í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì‹œ OORP íŒ¨í„´ìœ¼ë¡œ ë¦¬íŒ©í† ë§**í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ì¼ì¢…ì˜ "ê°œë°¥ ë¨¹ê¸°(dogfooding)"ì´ì, íŒ¨í„´ì˜ ì‹¤ì œ íš¨ê³¼ë¥¼ ê²€ì¦í•˜ëŠ” ì‹¤í—˜ì´ì—ˆìŠµë‹ˆë‹¤.

ë” í¥ë¯¸ë¡œìš´ ì ì€, ì´ ëª¨ë“  ê³¼ì •ì„ **Claude Code Agentsì™€ Generative Sequence ë°©ë²•ë¡ **ì„ í™œìš©í•´ AIì™€ í˜ì–´ í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ì§„í–‰í–ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

## ë„ì „ ê³¼ì œ: ì™œ í†µí•© íŒ¨í„´ ì €ì¥ì†Œê°€ í•„ìš”í•œê°€?

### í˜„ì¬ì˜ ë¬¸ì œì 

1. **ì •ë³´ì˜ ë¶„ì‚°**: ë””ìì¸ íŒ¨í„´ì€ ìˆ˜ì‹­ ê¶Œì˜ ì±…, ìˆ˜ë°± ê°œì˜ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì— í©ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.
2. **ê²€ìƒ‰ì˜ ì–´ë ¤ì›€**: "God Classë¥¼ ì–´ë–»ê²Œ ë¦¬íŒ©í† ë§í•˜ì§€?"ë¼ëŠ” ì‹¤ì œ ë¬¸ì œë¥¼ íŒ¨í„´ ì´ë¦„ìœ¼ë¡œ ì—°ê²°í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
3. **ë§¥ë½ì˜ ë¶€ì¬**: íŒ¨í„´ ê°„ì˜ ì—°ê²° ê³ ë¦¬, ì–¸ì œ ì–´ë–¤ íŒ¨í„´ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ í†µí•©ëœ ê°€ì´ë“œê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.
4. **ì ‘ê·¼ì„± ë¬¸ì œ**: ì±…ì„ í¼ì³ë³´ê±°ë‚˜, ì›¹ì‚¬ì´íŠ¸ë¥¼ ì—¬ëŸ¬ ê°œ íƒìƒ‰í•´ì•¼ í•©ë‹ˆë‹¤. CLIì—ì„œ ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë‹¤ë©´?

### ì‹¤ì œ ê°œë°œ ì‹œë‚˜ë¦¬ì˜¤

ë ˆê±°ì‹œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì¸ìˆ˜ì¸ê³„ ë°›ì•˜ë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤. 3000ì¤„ì§œë¦¬ `UserManager` í´ë˜ìŠ¤ê°€ ìˆê³ , ì´ê²ƒì„ ë¦¬íŒ©í† ë§í•´ì•¼ í•©ë‹ˆë‹¤. ë¬´ì—‡ë¶€í„° ì‹œì‘í•´ì•¼ í• ê¹Œìš”?

```bash
# ê¸°ì¡´ ë°©ì‹: êµ¬ê¸€ë§ â†’ ì±… ì°¾ê¸° â†’ í˜ì´ì§€ ë„˜ê¸°ê¸° â†’ ì ìš© ì‹œë„
# ì‹œê°„ ì†Œìš”: 30ë¶„ ~ 1ì‹œê°„

# PatternSphereë¥¼ ì‚¬ìš©í•˜ë©´:
$ patternsphere search "god class"

Found 3 pattern(s):

1. Split Up God Class (score: 8.5)
   Category: Redistribute Responsibilities
   Tags: refactoring, responsibility, god-class
   Intent: Break down a large class that does too much into smaller,
           focused classes with single responsibilities.
   Matched in: name, tags, intent

2. Move Behavior Close to Data (score: 6.2)
   Category: Redistribute Responsibilities
   ...

# ì‹œê°„ ì†Œìš”: 10ì´ˆ
```

## ìš°ë¦¬ì˜ ì†”ë£¨ì…˜: PatternSphere v1.0.0

### í•µì‹¬ ê¸°ëŠ¥

PatternSphereëŠ” ë‹¨ìˆœí•œ íŒ¨í„´ ì¹´íƒˆë¡œê·¸ê°€ ì•„ë‹™ë‹ˆë‹¤. **ì‹¤ì œ ê°œë°œ ì›Œí¬í”Œë¡œìš°ì— í†µí•©ëœ ì§€ì‹ ë„êµ¬**ì…ë‹ˆë‹¤.

#### 1. ì´ˆê³ ì† ê²€ìƒ‰ ì—”ì§„ (<10ms)

```python
# ê°€ì¤‘ì¹˜ ê¸°ë°˜ ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜
FIELD_WEIGHTS = {
    'name': 5.0,      # íŒ¨í„´ ì´ë¦„ì— ì •í™•íˆ ë§¤ì¹­
    'tags': 4.0,      # íƒœê·¸ ë§¤ì¹­
    'intent': 3.0,    # íŒ¨í„´ ì˜ë„
    'problem': 2.5,   # í•´ê²°í•˜ëŠ” ë¬¸ì œ
    'solution': 2.0,  # í•´ê²° ë°©ë²•
}

# ê²°ê³¼: í‰ê·  7ms, ìš”êµ¬ì‚¬í•­(100ms) ëŒ€ë¹„ 14ë°° ë¹ ë¦„
```

#### 2. 61ê°œ OORP íŒ¨í„´ (8ê°œ ì¹´í…Œê³ ë¦¬)

| ì¹´í…Œê³ ë¦¬ | íŒ¨í„´ ìˆ˜ | ì‚¬ìš© ì‹œê¸° |
|---------|---------|-----------|
| First Contact | 6 | ìƒˆ ì½”ë“œë² ì´ìŠ¤ íƒìƒ‰ |
| Initial Understanding | 6 | ì‹œìŠ¤í…œ êµ¬ì¡° ì´í•´ |
| Detailed Model Capture | 10 | ìƒì„¸ ëª¨ë¸ ìº¡ì²˜ |
| Redistribute Responsibilities | 10 | í´ë˜ìŠ¤/ëª¨ë“ˆ ë¦¬íŒ©í† ë§ |
| Transform Conditionals | 5 | ì¡°ê±´ë¬¸ â†’ ë‹¤í˜•ì„± |
| Migration Strategies | 8 | ë ˆê±°ì‹œ ì‹œìŠ¤í…œ ë§ˆì´ê·¸ë ˆì´ì…˜ |
| Setting Direction | 10 | ë¦¬ì—”ì§€ë‹ˆì–´ë§ ì „ëµ |
| Tests: Your Life Insurance! | 6 | ë ˆê±°ì‹œ ì½”ë“œ í…ŒìŠ¤íŒ… |

#### 3. 5ê°€ì§€ CLI ëª…ë ¹ì–´

```bash
# 1. ê²€ìƒ‰: í‚¤ì›Œë“œ, ì¹´í…Œê³ ë¦¬, íƒœê·¸ë¡œ í•„í„°ë§
patternsphere search refactoring --category "First Contact"

# 2. ë¦¬ìŠ¤íŠ¸: ëª¨ë“  íŒ¨í„´ íƒìƒ‰
patternsphere list --sort category

# 3. ìƒì„¸ ë³´ê¸°: ì™„ì „í•œ íŒ¨í„´ ì •ë³´
patternsphere view "Read all the Code in One Hour"

# 4. ì¹´í…Œê³ ë¦¬: ì „ì²´ êµ¬ì¡° íŒŒì•…
patternsphere categories

# 5. ì •ë³´: ì‹œìŠ¤í…œ í†µê³„
patternsphere info
```

#### 4. MCP ì„œë²„ í†µí•© (Claude Codeì™€ ì—°ë™)

```json
// Claude Desktop ì„¤ì •
{
  "mcpServers": {
    "patternsphere": {
      "command": "python",
      "args": ["c:\\Projects\\PatternSphere\\run_mcp_server.py"]
    }
  }
}
```

ì´ì œ Claude Codeì—ì„œ ìì—°ì–´ë¡œ íŒ¨í„´ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
User: "ë ˆê±°ì‹œ ì½”ë“œ ë¦¬íŒ©í† ë§ì„ ìœ„í•œ íŒ¨í„´ ì°¾ì•„ì¤˜"
Claude: [PatternSphere MCPë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë ¨ íŒ¨í„´ ê²€ìƒ‰ ë° ì¶”ì²œ]
```

### ì•„í‚¤í…ì²˜: SOLID ì›ì¹™ì˜ ì‹¤ì œ ì ìš©

```
PatternSphere/
â”œâ”€â”€ Models (Pydantic ê²€ì¦)
â”‚   â””â”€â”€ Pattern: ë°ì´í„° êµ¬ì¡°ì™€ validationë§Œ ë‹´ë‹¹
â”œâ”€â”€ Repository (ì»¬ë ‰ì…˜ ê´€ë¦¬)
â”‚   â””â”€â”€ IPatternRepository: ì¶”ìƒí™”ì— ì˜ì¡´
â”œâ”€â”€ Search Engine (ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜)
â”‚   â””â”€â”€ ê°€ì¤‘ì¹˜ ìŠ¤ì½”ì–´ë§, O(n) ë³µì¡ë„
â”œâ”€â”€ Storage (ì˜ì†ì„±)
â”‚   â””â”€â”€ IStorage: êµì²´ ê°€ëŠ¥í•œ ë°±ì—”ë“œ
â””â”€â”€ CLI (ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤)
    â””â”€â”€ Typer + Richë¡œ êµ¬í˜„
```

**SOLID ì›ì¹™ ì ìš© ì˜ˆì‹œ:**

1. **Single Responsibility**: ê° ì»´í¬ë„ŒíŠ¸ê°€ í•˜ë‚˜ì˜ ëª…í™•í•œ ì—­í• 
2. **Open/Closed**: ìƒˆë¡œìš´ íŒ¨í„´ ì†ŒìŠ¤ ì¶”ê°€ ê°€ëŠ¥ (PDF, ì›¹ ë“±)
3. **Liskov Substitution**: IStorage êµ¬í˜„ì²´ êµì²´ ê°€ëŠ¥
4. **Interface Segregation**: ìµœì†Œí•œì˜ ì§‘ì¤‘ëœ ì¸í„°í˜ì´ìŠ¤
5. **Dependency Inversion**: êµ¬ì²´ì  êµ¬í˜„ì´ ì•„ë‹Œ ì¶”ìƒí™”ì— ì˜ì¡´

## ê°œë°œ ì ‘ê·¼ë²•: AIì™€ í•¨ê»˜í•˜ëŠ” Transformation

ì´ í”„ë¡œì íŠ¸ì˜ ê°€ì¥ í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì€ **ì–´ë–»ê²Œ ë§Œë“¤ì—ˆëŠ”ê°€**ì…ë‹ˆë‹¤.

### 1. Claude Code Agents/Workflows í™œìš©

[omersaraf/claude-code-agents-workflow](https://github.com/omersaraf/claude-code-agents-workflow)ì˜ ì›Œí¬í”Œë¡œìš°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

**ì‚¬ìš©í•œ Agents:**
- **implementation-engineer**: ê¸°ëŠ¥ êµ¬í˜„
- **code-quality-inspector**: ì½”ë“œ ë¦¬ë·°
- **qa-test-engineer**: í…ŒìŠ¤íŠ¸ ì‘ì„±
- **bug-analyst** + **bugfix-implementer**: ë²„ê·¸ ìˆ˜ì •
- **software-architect-designer**: ì•„í‚¤í…ì²˜ ì„¤ê³„

**ì‹¤ì œ ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ:**
```
1. User: "OORP íŒ¨í„´ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„í•´ì¤˜"
2. Claude â†’ software-architect-designer: ì„¤ê³„ ì˜µì…˜ 3ê°€ì§€ ì œì‹œ
3. User: "Option Aë¡œ ì§„í–‰"
4. Claude â†’ implementation-engineer: ì½”ë“œ êµ¬í˜„
5. Claude â†’ qa-test-engineer: í…ŒìŠ¤íŠ¸ ì‘ì„± (ìë™)
6. Claude â†’ code-quality-inspector: ë¦¬ë·° (ìë™)
```

### 2. Generative Sequence: Transformation ì¤‘ì‹¬ ê°œë°œ

`CLAUDE.md`ì— ì •ì˜ëœ **Generative Sequence** ë°©ë²•ë¡ ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ì›ì¹™:**
- **Iterationì´ ì•„ë‹Œ Transformation ë‹¨ìœ„**ë¡œ ì§„í–‰
- ê° Transformationì€ **êµ¬ì¡°ì  ìƒëª…ë ¥(Structural Life)**ì„ í–¥ìƒ
- **ë§¥ë½ ë³´ì¡´(Context Preservation)**ì„ ìµœìš°ì„ 

**Transformation í…œí”Œë¦¿:**
```markdown
## T-20251026-001 â€” Remove Duplicated Code in Formatters
- Intent: formatter ê°„ ì¤‘ë³µëœ í…ìŠ¤íŠ¸ ì²˜ë¦¬ ë¡œì§ ì œê±°í•˜ì—¬
         ìœ ì§€ë³´ìˆ˜ì„±ê³¼ ì¼ê´€ì„± í–¥ìƒ
- Change: text_utils.py ìƒì„±, ê³µí†µ í•¨ìˆ˜ ì¶”ì¶œ
- Options:
  (A) ê° formatterì— ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¶”ê°€
  (B) ê³µí†µ ëª¨ë“ˆ ìƒì„± â† ì„ íƒ
  (C) ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
- Acceptance: ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼, ì¤‘ë³µ ì½”ë“œ 0ì¤„
- Impact:
  - Code: -50 lines duplication
  - Tests: +43 tests
  - Coverage: 80% â†’ 82.3%
```

**ì‹¤ì œ ì ìš© ì‚¬ë¡€:**

```python
# Before: PatternFormatterì™€ SearchFormatterì— ì¤‘ë³µ
class PatternFormatter:
    def _wrap_text(self, text, width):
        # 45ì¤„ì˜ í…ìŠ¤íŠ¸ wrapping ë¡œì§
        ...

class SearchFormatter:
    def _truncate_text(self, text, max_length):
        # 15ì¤„ì˜ í…ìŠ¤íŠ¸ truncate ë¡œì§
        ...

# After: ê³µí†µ ìœ í‹¸ë¦¬í‹°ë¡œ í†µí•©
# patternsphere/cli/formatters/text_utils.py
def wrap_text(text: str, width: int = 70, indent: int = 0) -> str:
    """ê³µí†µ í…ìŠ¤íŠ¸ wrapping ë¡œì§"""
    ...

def truncate_text(text: str, max_length: int, suffix: str = "...") -> str:
    """ê³µí†µ í…ìŠ¤íŠ¸ truncate ë¡œì§"""
    ...

# ê²°ê³¼: -50 lines, ì¼ê´€ì„± ë³´ì¥, í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
```

### 3. ìì²´ ì ìš©: OORP íŒ¨í„´ìœ¼ë¡œ PatternSphere ë¦¬íŒ©í† ë§

í”„ë¡œì íŠ¸ê°€ ì–´ëŠ ì •ë„ ì™„ì„±ëœ í›„, **ìì²´ íŒ¨í„´ ë¶„ì„**ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
$ patternsphere search "duplicated code"

Found: "Remove Duplicated Code" pattern
Problem: Duplicated code leads to inconsistency and maintenance burden
Solution: Extract common code into shared modules
```

**ë¶„ì„ ê²°ê³¼ (PATTERN_ANALYSIS.md):**

| í•­ëª© | í‰ê°€ | ì½”ë©˜íŠ¸ |
|------|------|--------|
| ì½”ë“œ êµ¬ì¡° | â­â­â­â­â­ | ëª…í™•í•œ ê³„ì¸µ, ë†’ì€ ì‘ì§‘ë„ |
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | â­â­â­â­ | 91% - í•µì‹¬ 97-100% |
| SOLID ì¤€ìˆ˜ | â­â­â­â­â­ | ëª¨ë“  ì›ì¹™ ì ìš© |
| ì½”ë“œ ì¤‘ë³µ | â­â­â­ | 2ê°œ ì˜ì—­ (~50ì¤„) |

**ìš°ì„ ìˆœìœ„ë³„ ê°œì„  ì‚¬í•­:**
1. **Priority 1**: Remove Duplicated Code (OORPLoader, Formatters)
2. **Priority 2**: Introduce Assertion (ê³„ì•½ ëª…ì‹œ)
3. **Priority 3**: Safe Refactoring Process ë¬¸ì„œí™”

**ì‹¤ì œ ì ìš© ê²°ê³¼:**

```
Before Refactoring:
- Duplicate code: ~50 lines
- Tests: 248
- Coverage: 80%

After Refactoring:
- Duplicate code: ~0 lines (-100%)
- Tests: 291 (+43)
- Coverage: 82.3% (+2.3%)
- text_utils coverage: 98.2%
```

## ê¸°ìˆ ì  ì‹¬í™”: ì„±ëŠ¥ê³¼ í’ˆì§ˆ

### 1. ì„±ëŠ¥ ìµœì í™”

**ìš”êµ¬ì‚¬í•­ ëŒ€ë¹„ ì‹¤ì œ ì„±ëŠ¥:**

| ì‘ì—… | ìš”êµ¬ì‚¬í•­ | ì‹¤ì œ ì„±ëŠ¥ | ë°°ìˆ˜ |
|------|----------|-----------|------|
| íŒ¨í„´ ë¡œë”© | <500ms | ~2ms | **250ë°° ë¹ ë¦„** âš¡ |
| ê²€ìƒ‰ (í‰ê· ) | <100ms | <10ms | **10ë°° ë¹ ë¦„** âš¡ |
| CLI ì‹œì‘ | <1s | ~650ms | **35% ë¹ ë¦„** âš¡ |
| ë©”ëª¨ë¦¬ ì‚¬ìš© | ìµœì†Œí™” | <100KB | **ìš°ìˆ˜** âœ… |

**ìµœì í™” ê¸°ë²•:**

```python
# 1. ë‹¤ì¤‘ ì¸ë±ìŠ¤ë¡œ O(1) ì¡°íšŒ
class InMemoryPatternRepository:
    def __init__(self):
        self._patterns_by_id: Dict[str, Pattern] = {}
        self._patterns_by_name: Dict[str, Pattern] = {}
        self._patterns_by_category: Dict[str, List[Pattern]] = {}
        # O(1) lookup for all access patterns

# 2. ê°€ì¤‘ì¹˜ ìŠ¤ì½”ì–´ë§ìœ¼ë¡œ ê´€ë ¨ì„± ë†’ì€ ê²°ê³¼ ìš°ì„ 
def _score_pattern(self, pattern, query_terms):
    score = 0.0
    for term in query_terms:
        if term in pattern.name.lower():
            score += 5.0  # ì´ë¦„ ë§¤ì¹­ ìµœìš°ì„ 
        if term in pattern.tags:
            score += 4.0
        # ...
    return score

# 3. ì¡°ê¸° ì¢…ë£Œë¡œ ë¶ˆí•„ìš”í•œ ê³„ì‚° ë°©ì§€
def search(self, query, limit=20):
    results = sorted(all_results, key=lambda r: r.score, reverse=True)
    return results[:limit]  # limitë§Œí¼ë§Œ ë°˜í™˜
```

### 2. í…ŒìŠ¤íŠ¸ ì „ëµ

**248ê°œ â†’ 291ê°œ í…ŒìŠ¤íŠ¸ (3ê°€ì§€ ë ˆë²¨):**

```python
# 1. Unit Tests (178 â†’ 221)
# ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
def test_search_engine_weighted_scoring():
    engine = KeywordSearchEngine(repository)
    results = engine.search("refactoring")

    # ì´ë¦„ ë§¤ì¹­ì´ íƒœê·¸ ë§¤ì¹­ë³´ë‹¤ ë†’ì€ ì ìˆ˜
    assert results[0].score > results[1].score

# 2. Integration Tests (55)
# ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
def test_complete_search_workflow():
    # 1. íŒ¨í„´ ë¡œë“œ
    loader.load_from_file("patterns.json")

    # 2. ê²€ìƒ‰
    results = search_engine.search("god class")

    # 3. í¬ë§·íŒ…
    output = formatter.format(results)

    assert "Split Up God Class" in output

# 3. Performance Tests (15)
def test_search_under_100ms():
    start = time.perf_counter()
    results = engine.search("pattern")
    duration_ms = (time.perf_counter() - start) * 1000

    assert duration_ms < 100  # ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
```

**ì»¤ë²„ë¦¬ì§€ ë¶„ì„:**

```
Module                  Coverage
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Pattern Models          100%
Repository              97%
Search Engine           97%
Loaders                 92%
CLI Components          86-100%
text_utils              98.2%
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Overall                 82.3%
```

### 3. ì½”ë“œ í’ˆì§ˆ ë©”íŠ¸ë¦­

```python
# Complexity (Cyclomatic Complexity)
# í‰ê· : 2-3, ìµœëŒ€: 5
# â†’ ë§¤ìš° ë‚®ìŒ, ìœ ì§€ë³´ìˆ˜ ìš©ì´

# Coupling (ê²°í•©ë„)
# ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
# â†’ ë‚®ì€ ê²°í•©ë„, ë†’ì€ êµì²´ ê°€ëŠ¥ì„±

# Cohesion (ì‘ì§‘ë„)
# ê° ëª¨ë“ˆì´ ë‹¨ì¼ ì±…ì„
# â†’ ë†’ì€ ì‘ì§‘ë„, ëª…í™•í•œ ê²½ê³„
```

## ë°°ìš´ êµí›ˆ: íŒ¨í„´ì˜ ì‹¤ì œ ê°€ì¹˜

### 1. "Remove Duplicated Code" íŒ¨í„´ì˜ ì¦‰ê°ì ì¸ íš¨ê³¼

**Before:**
```python
# PatternFormatter: 45 lines
def _wrap_text(self, text, width):
    # ... wrapping logic ...

# SearchFormatter: 15 lines
def _truncate_text(self, text, max_length):
    # ... truncate logic ...
```

**After:**
```python
# text_utils.py: ê³µí†µ ë¡œì§
def wrap_text(text, width, indent=0): ...
def truncate_text(text, max_length, suffix="..."): ...

# Formatters: 1-2 lines
from text_utils import wrap_text, truncate_text
```

**ì¸¡ì • ê°€ëŠ¥í•œ ê°œì„ :**
- ì½”ë“œ ì¤‘ë³µ: 50ì¤„ â†’ 0ì¤„
- í…ŒìŠ¤íŠ¸ ì¶”ê°€: +43ê°œ (í•¨ìˆ˜ë³„ ë…ë¦½ í…ŒìŠ¤íŠ¸)
- ë²„ê·¸ ê°€ëŠ¥ì„±: -100% (ë‹¨ì¼ êµ¬í˜„ì²´)
- ì¬ì‚¬ìš©ì„±: +ë¬´í•œëŒ€ (ëª¨ë“  formatterê°€ í™œìš©)

### 2. SOLID ì›ì¹™ì˜ ì‹¤ìš©ì„±

**Dependency Inversion ì ìš© ì‚¬ë¡€:**

```python
# Bad: êµ¬ì²´ì  êµ¬í˜„ì— ì˜ì¡´
class PatternRepository:
    def __init__(self):
        self.storage = FileStorage("data.json")  # ê°•ê²°í•©!

# Good: ì¶”ìƒí™”ì— ì˜ì¡´
class PatternRepository:
    def __init__(self, storage: IStorage):
        self.storage = storage  # ëŠìŠ¨í•œ ê²°í•©!

# ì¥ì :
# 1. í…ŒìŠ¤íŠ¸ ì‹œ Mock ì‚¬ìš© ê°€ëŠ¥
repository = PatternRepository(MockStorage())

# 2. Storage êµì²´ ê°€ëŠ¥ (FileStorage â†’ SQLite â†’ PostgreSQL)
repository = PatternRepository(SQLiteStorage())

# 3. êµ¬í˜„ ë³€ê²½ì´ Repositoryì— ì˜í–¥ ì—†ìŒ
```

### 3. AI í˜ì–´ í”„ë¡œê·¸ë˜ë°ì˜ íš¨ê³¼

**ê°œë°œ ì†ë„:**
- ì „í†µì  ê°œë°œ: ì˜ˆìƒ 4-6ì£¼
- AI í˜ì–´ í”„ë¡œê·¸ë˜ë°: ì‹¤ì œ 2ì£¼
- **2-3ë°° ì†ë„ í–¥ìƒ**

**í’ˆì§ˆ:**
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: 82.3% (ì¼ë°˜ì ìœ¼ë¡œ 60-70%)
- ë¬¸ì„œí™”: 100% (ì–‘ë°©í–¥ ì–¸ì–´ ì§€ì›)
- SOLID ì¤€ìˆ˜: 100%

**í•µì‹¬ ì„±ê³µ ìš”ì¸:**
1. **ëª…í™•í•œ CLAUDE.md**: AIì˜ ì—­í• ê³¼ ì›ì¹™ ì •ì˜
2. **Transformation ë‹¨ìœ„ ì‘ì—…**: ì‘ì€ ë‹¨ìœ„ë¡œ ê²€ì¦ ê°€ëŠ¥
3. **ì¦‰ê°ì ì¸ í”¼ë“œë°±**: ê° ë³€ê²½ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
4. **íŒ¨í„´ ê¸°ë°˜ ì˜ì‚¬ì†Œí†µ**: "Remove Duplicated Code íŒ¨í„´ ì ìš©"

### 4. ìê°€ ì§„ë‹¨ì˜ ê°€ì¹˜

í”„ë¡œì íŠ¸ë¥¼ ìì²´ ë„êµ¬ë¡œ ë¶„ì„í•œ ê²ƒì´ ê°€ì¥ í° í†µì°°ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.

```bash
$ patternsphere search "code duplication"
â†’ ë°œê²¬: OORPLoaderì™€ Formatterì— ì¤‘ë³µ

$ patternsphere view "Remove Duplicated Code"
â†’ í•´ê²°ì±… í™•ì¸ ë° ì ìš©

$ pytest  # í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦
â†’ 291 passed in 5s
```

**Meta-Learning:**
- ìì‹ ì˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ë³´ëŠ” ê²ƒì´ ìµœê³ ì˜ UX ê²€ì¦
- íŒ¨í„´ì´ ì‹¤ì œë¡œ ì‘ë™í•˜ëŠ”ì§€ ì§ì ‘ ê²½í—˜
- ë¬¸ì„œì™€ ì‹¤ì œ ì‚¬ì´ì˜ ê°„ê·¹ ë°œê²¬

## ë‹¤ìŒ ë‹¨ê³„: Phase 2 ê³„íš

### 1. ì‚¬ìš©ì ê¸°ì—¬ íŒ¨í„´ (ìµœìš°ì„ )

í˜„ì¬ OORP 61ê°œ íŒ¨í„´ìœ¼ë¡œ ì‹œì‘í–ˆì§€ë§Œ, ê°œë°œìë§ˆë‹¤ ìì‹ ë§Œì˜ íŒ¨í„´ì´ ìˆìŠµë‹ˆë‹¤.

**ê³„íšëœ ê¸°ëŠ¥:**

```bash
# 1. ìƒˆ íŒ¨í„´ ì¶”ê°€
$ patternsphere add-pattern
Name: Repository Pattern with Caching
Category: Performance
Tags: caching, repository, performance
Intent: Reduce database calls by caching query results
Problem: Repeated database queries slow down application
Solution: Add caching layer to repository...
[Editor opens for detailed input]

# 2. íŒ¨í„´ ê³µìœ 
$ patternsphere export my-patterns.json
$ patternsphere import team-patterns.json

# 3. ì»¤ë®¤ë‹ˆí‹° íŒ¨í„´
$ patternsphere search --source community
$ patternsphere search --source my-team
```

**ê¸°ìˆ ì  êµ¬í˜„:**

```python
# ë‹¤ì¤‘ ì†ŒìŠ¤ ì•„í‚¤í…ì²˜
class MultiSourceRepository:
    def __init__(self):
        self.sources = [
            OORPSource(),           # ê¸°ë³¸ OORP
            UserPatternsSource(),   # ì‚¬ìš©ì íŒ¨í„´
            TeamPatternsSource(),   # íŒ€ íŒ¨í„´
            CommunitySource()       # ì»¤ë®¤ë‹ˆí‹°
        ]

    def search(self, query, source_filter=None):
        results = []
        for source in self.sources:
            if source_filter and source.name != source_filter:
                continue
            results.extend(source.search(query))
        return self._merge_and_rank(results)
```

### 2. PDF í†µí•©

ë§ì€ í´ë˜ì‹ íŒ¨í„´ ì±…ë“¤ì´ PDFë¡œ ì¡´ì¬í•©ë‹ˆë‹¤.

**ì§€ì› ì˜ˆì • ì„œì :**
- Gang of Four (GoF) Design Patterns
- Enterprise Integration Patterns
- Pattern-Oriented Software Architecture (POSA)
- Domain-Driven Design patterns

**êµ¬í˜„ ë°©ì‹:**

```python
# PDF íŒ¨í„´ ì¶”ì¶œê¸°
class PDFPatternExtractor:
    def extract(self, pdf_path: str) -> List[Pattern]:
        # 1. PDFì—ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
        text = extract_text(pdf_path)

        # 2. íŒ¨í„´ ì„¹ì…˜ ì‹ë³„ (ì œëª©, êµ¬ì¡° ê¸°ë°˜)
        sections = identify_pattern_sections(text)

        # 3. Pattern ëª¨ë¸ë¡œ ë³€í™˜
        patterns = []
        for section in sections:
            pattern = Pattern(
                name=section.title,
                intent=section.intent,
                problem=section.problem,
                solution=section.solution,
                source_metadata=SourceMetadata(
                    source_name=pdf_path,
                    page_number=section.page
                )
            )
            patterns.append(pattern)

        return patterns

# ì‚¬ìš©
$ patternsphere import-pdf gof_design_patterns.pdf
Extracting patterns from PDF...
Found 23 patterns:
  âœ“ Singleton
  âœ“ Factory Method
  âœ“ Observer
  ...
Successfully imported 23 patterns!
```

### 3. ì‹œë§¨í‹± ê²€ìƒ‰

í˜„ì¬ëŠ” í‚¤ì›Œë“œ ê¸°ë°˜ì´ì§€ë§Œ, ì˜ë„ ê¸°ë°˜ ê²€ìƒ‰ìœ¼ë¡œ í™•ì¥:

```bash
# í˜„ì¬ (í‚¤ì›Œë“œ)
$ patternsphere search "god class"
â†’ "Split Up God Class" ì°¾ìŒ

# ë¯¸ë˜ (ì˜ë„ ê¸°ë°˜)
$ patternsphere search "ì´ í´ë˜ìŠ¤ê°€ ë„ˆë¬´ ë§ì€ ì¼ì„ í•´ìš”"
â†’ AIê°€ ì˜ë„ íŒŒì•… â†’ "Split Up God Class" ì¶”ì²œ

$ patternsphere search "ì¡°ê±´ë¬¸ì´ ë„ˆë¬´ ë³µì¡í•´ìš”"
â†’ "Replace Conditional with Polymorphism" ì¶”ì²œ
```

**ê¸°ìˆ  ìŠ¤íƒ:**
- Embedding: OpenAI ada-002 ë˜ëŠ” sentence-transformers
- Vector DB: ChromaDB ë˜ëŠ” Pinecone
- í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰: í‚¤ì›Œë“œ + ì‹œë§¨í‹±

### 4. íŒ¨í„´ ê´€ê³„ ì‹œê°í™”

```bash
$ patternsphere visualize "Split Up God Class"

Split Up God Class
â”œâ”€â†’ Move Behavior Close to Data (often follows)
â”œâ”€â†’ Extract Method Object (alternative approach)
â””â”€â†’ Introduce Null Object (for optional parts)

Related by:
- Category: Redistribute Responsibilities
- Common Tags: refactoring, responsibility
- Sequential Application: 73% of users also use...
```

### 5. ì½”ë“œ ë¶„ì„ ê¸°ë°˜ íŒ¨í„´ ì¶”ì²œ

```python
# ì •ì  ë¶„ì„ìœ¼ë¡œ íŒ¨í„´ ì¶”ì²œ
$ patternsphere analyze mycode.py

Analysis Results:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Class: UserManager (lines 1-450)
  Issue: 450 lines, 23 methods
  Cyclomatic Complexity: 45 (Very High)

  Recommended Pattern:
  â†’ "Split Up God Class"
    Reason: Class has too many responsibilities

  Steps:
  1. Identify cohesive method groups
  2. Extract UserAuth, UserProfile, UserPermissions
  3. Use composition in UserManager
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

## ê²°ë¡ : íŒ¨í„´, AI, ê·¸ë¦¬ê³  ë¯¸ë˜

### í•µì‹¬ ë©”ì‹œì§€

1. **íŒ¨í„´ì€ ì—¬ì „íˆ ìœ íš¨í•©ë‹ˆë‹¤**: OORPëŠ” 20ë…„ ì „ ì±…ì´ì§€ë§Œ, í˜„ì¬ ì½”ë“œì—ë„ ê·¸ëŒ€ë¡œ ì ìš©ë©ë‹ˆë‹¤.

2. **ë„êµ¬ì˜ ì¤‘ìš”ì„±**: ì¢‹ì€ ì§€ì‹ë„ ì ‘ê·¼í•˜ê¸° ì–´ë ¤ìš°ë©´ ì“¸ëª¨ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤. PatternSphereëŠ” íŒ¨í„´ì„ ì†ì‰½ê²Œ ë§Œë“­ë‹ˆë‹¤.

3. **AIëŠ” ì¦í­ê¸°ì…ë‹ˆë‹¤**:
   - ê°œë°œìì˜ ì˜ë„ë¥¼ ì½”ë“œë¡œ ë¹ ë¥´ê²Œ ì „í™˜
   - íŒ¨í„´ ê¸°ë°˜ ì˜ì‚¬ì†Œí†µìœ¼ë¡œ í’ˆì§ˆ í–¥ìƒ
   - ë°˜ë³µ ì‘ì—… ìë™í™”ë¡œ ì°½ì˜ì  ì‘ì—…ì— ì§‘ì¤‘

4. **ìê°€ ì ìš©ì˜ ê°€ì¹˜**: ìì‹ ì˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•´ë³´ëŠ” ê²ƒì´ ìµœê³ ì˜ í’ˆì§ˆ ë³´ì¦

### ì‹œì‘í•´ë³´ì„¸ìš”

```bash
# ì„¤ì¹˜
git clone https://github.com/blcktgr73/PatternSphere.git
cd PatternSphere
pip install -r requirements.txt
pip install -e .

# ì²« ê²€ìƒ‰
patternsphere search "refactoring"

# íŒ¨í„´ íƒìƒ‰
patternsphere list --category "First Contact"

# ë„ì›€ë§
patternsphere --help
```

### ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬

- **GitHub**: https://github.com/blcktgr73/PatternSphere
- **Issue/PR í™˜ì˜**: ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ, íŒ¨í„´ ì¶”ê°€
- **íŒ¨í„´ ê³µìœ **: ì—¬ëŸ¬ë¶„ì˜ íŒ¨í„´ì„ ê³µìœ í•´ì£¼ì„¸ìš”!

### ë§ˆì§€ë§‰ìœ¼ë¡œ

ë ˆê±°ì‹œ ì½”ë“œì™€ ì”¨ë¦„í•˜ê³  ê³„ì‹ ê°€ìš”? ë¦¬íŒ©í† ë§ ë°©í–¥ì„ ëª¨ë¥´ê² ë‚˜ìš”? PatternSphereëŠ” ê·¸ëŸ° ë¶„ë“¤ì„ ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.

íŒ¨í„´ì€ ìš°ë¦¬ê°€ ìˆ˜ì‹­ ë…„ê°„ ì¶•ì í•œ ì§‘ë‹¨ ì§€ì„±ì…ë‹ˆë‹¤. ì´ì œ ê·¸ê²ƒì„ ì†ëì—ì„œ ë°”ë¡œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
$ patternsphere search "your problem here"
```

Happy pattern hunting! ğŸ¯

---

## ë¶€ë¡: í”„ë¡œì íŠ¸ í†µê³„

### ê°œë°œ ë©”íŠ¸ë¦­
- **ê°œë°œ ê¸°ê°„**: 2ì£¼
- **ì´ ì½”ë“œ ë¼ì¸**: 2,638 (production) + 4,037 (tests)
- **í…ŒìŠ¤íŠ¸/ì½”ë“œ ë¹„ìœ¨**: 1.53:1
- **ì»¤ë°‹ ìˆ˜**: 3ê°œ ë©”ì´ì € ë¦´ë¦¬ìŠ¤
- **ë¬¸ì„œ í˜ì´ì§€**: 15ê°œ (ì–‘ë°©í–¥ ì–¸ì–´)

### í’ˆì§ˆ ë©”íŠ¸ë¦­
- **í…ŒìŠ¤íŠ¸**: 291ê°œ (100% í†µê³¼)
- **ì»¤ë²„ë¦¬ì§€**: 82.3% (í•µì‹¬ ëª¨ë“ˆ 95-100%)
- **SOLID ì¤€ìˆ˜**: 100%
- **ì„±ëŠ¥**: ìš”êµ¬ì‚¬í•­ ëŒ€ë¹„ 10-250ë°° ë¹ ë¦„

### ì»¤ë®¤ë‹ˆí‹°
- **GitHub Stars**: (ì‹œì‘ ë‹¨ê³„)
- **Contributors**: 1 (+ AI pair programmer)
- **Issues**: ì—´ë ¤ìˆìŒ!
- **License**: MIT

---

*ì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ëŠ” PatternSphere v1.0.0ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì— ëŒ€í•œ í”¼ë“œë°±ì´ë‚˜ ì§ˆë¬¸ì€ GitHub Issueë¡œ ë‚¨ê²¨ì£¼ì„¸ìš”!*

**Tags**: #SoftwareEngineering #DesignPatterns #OORP #Refactoring #ClaudeCode #AI #LegacyCode #SoftwareArchitecture #í•œêµ­ê°œë°œì
